(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,a,t){e.exports=t(48)},34:function(e,a,t){},36:function(e,a,t){},38:function(e,a,t){},40:function(e,a,t){},42:function(e,a,t){},44:function(e,a,t){},48:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),c=t.n(l),s=t(5),o=t(4),u=(t(30),t(32),t(34),t(6)),i=t(7),m=t(9),d=t(8),p=t(10);t(36),t(38);t(40);var f=Object(s.b)(function(e){return{bars:e.bars,tempo:e.tempo,instrument:e.instrument,isPlaying:e.playback.isPlaying}},function(e){return{changeTempo:function(a){return e(function(e){return{type:"CHANGE_TEMPO",payload:e}}(a))},changeInstrument:function(a){return e(function(e){return{type:"CHANGE_INSTRUMENT",payload:e}}(a))},playSequence:function(a,t,n){return e(function(e,a,t){return{type:"PLAY_SEQUENCE",payload:{notes:e,tempo:a,instrument:t}}}(a,t,n))},stopSequence:function(){return e({type:"STOP_SEQUENCE",payload:a});var a}}})(function(e){var a=e.bars,t=e.tempo,n=e.instrument,l=e.isPlaying,c=e.changeTempo,s=e.changeInstrument,o=e.playSequence,u=e.stopSequence;return r.a.createElement("div",{className:"row control-panel-container"},r.a.createElement("div",{className:"col-4 control-panel-item"},r.a.createElement("h4",{className:"header"},"Playback"),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"tool-panel-item"},r.a.createElement("button",{type:"button",className:"btn",onClick:function(e){var r=a.reduce(function(e,a){return e.concat(a.beats)},[]);o(r,t,n)},disabled:l},r.a.createElement("i",{className:"fas fa-play"})),r.a.createElement("button",{type:"button",className:"btn",onClick:function(e){u()},disabled:!l},r.a.createElement("i",{className:"fas fa-stop"})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"time-signature"},"Time signature: 4/4")))),r.a.createElement("div",{className:"col-4 control-panel-item"},r.a.createElement("h4",{className:"header"},"Controls"),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"tempoRange",className:"tempo"},"Tempo: ",t," bpm"),r.a.createElement("input",{id:"tempoRange",type:"range",className:"form-control custom-range",min:"60",max:"360",step:"30",defaultValue:t,onChange:function(e){c(e.target.value)},disabled:l})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"instrument",className:"tempo"},"Instrument:"),r.a.createElement("select",{id:"instrument",className:"form-control custom-select",defaultValue:"hang",onChange:function(e){s(e.target.value)},disabled:l},r.a.createElement("option",{value:"hang"},"Hang"),r.a.createElement("option",{value:"tank"},"Tank"))))))});t(42);var b=Object(s.b)(function(e){return{bars:e.bars,barSize:e.barSize,isPlaying:e.playback.isPlaying}},function(e){return{switchNoteItem:function(a,t){return e(function(e,a){return{type:"SWITCH_NOTE",payload:{beatId:e,noteValue:a}}}(a,t))},addBarItem:function(a){return e(function(e){return{type:"ADD_BAR",payload:e}}(a))},removeBarItem:function(a){return e(function(e){return{type:"REMOVE_BAR",payload:e}}(a))},resetTrack:function(){return e({type:"RESET_TRACK",payload:null})}}})(function(e){var a=e.barSize,t=e.bars,n=e.isPlaying,l=e.switchNoteItem,c=e.addBarItem,s=e.removeBarItem,o=e.resetTrack;if(t){var u=r.a.createElement("th",{key:"0",className:"sequencer-roll-cell note-value-header"}),i=[u],m=[u],d=t.reduce(function(e,a){return e.concat(a.beats)},[]);i=i.concat(t.map(function(e,t){return r.a.createElement("th",{key:e.barId,colSpan:a,className:"sequencer-roll-cell bar-header-item"},t+1,r.a.createElement("i",{className:"fas fa-minus-circle remove-icon",onClick:function(){return p(e.barId)}}))})),m=m.concat(d.map(function(e,a){return r.a.createElement("th",{key:e.beatId,className:"sequencer-roll-cell beat-header"},a+1)}));var p=function(e){s(e)},f=function(e){return d.map(function(a){var t="sequencer-roll-cell "+(a.values.includes(e)?"active-note":"inactive-note");return r.a.createElement("td",{key:a.beatId,onClick:function(){return function(e,a){l(e,a)}(a.beatId,e)},className:t})})},b=[{value:"C3",title:"C"},{value:"D3",title:"D"},{value:"E3",title:"E"},{value:"G3",title:"G"},{value:"A3",title:"A"}].map(function(e,a){return r.a.createElement("tr",{key:e.value},r.a.createElement("th",{className:"sequencer-roll-cell note-value-header"},e.title),f(e.value))});return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"sequencer-container col"},r.a.createElement("h4",{className:"title"},"Sequence"),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"add-bar-item"},r.a.createElement("button",{type:"button",className:"btn",onClick:function(){c(a)},disabled:n},r.a.createElement("i",{className:"fas fa-plus-circle"})," Add bar"),r.a.createElement("button",{type:"button",className:"btn",onClick:function(){o()},disabled:n},r.a.createElement("i",{className:"fas fa-times-circle"})," Reset")),r.a.createElement("div",{className:"sequencer-roll"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,i),r.a.createElement("tr",null,m)),r.a.createElement("tbody",null,b))))))}}),v=function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col container"},r.a.createElement(f,null),r.a.createElement(b,null)))},E=(t(44),function(e){function a(){return Object(u.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"app-header row"},r.a.createElement("nav",{className:"col"},r.a.createElement("a",{className:"app-header-title",href:"/sounds-of-mind/"},"Sounds of Mind")))}}]),a}(n.Component)),h=function(e){function a(){return Object(u.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement(E,null),r.a.createElement(v,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=t(15),N=t(12),g=t(1),I=t.n(g),k={bars:[{barId:I()(),beats:[{beatId:I()(),values:[]},{beatId:I()(),values:[]},{beatId:I()(),values:[]},{beatId:I()(),values:[]}]},{barId:I()(),beats:[{beatId:I()(),values:[]},{beatId:I()(),values:[]},{beatId:I()(),values:[]},{beatId:I()(),values:[]}]},{barId:I()(),beats:[{beatId:I()(),values:[]},{beatId:I()(),values:[]},{beatId:I()(),values:[]},{beatId:I()(),values:[]}]},{barId:I()(),beats:[{beatId:I()(),values:[]},{beatId:I()(),values:[]},{beatId:I()(),values:[]},{beatId:I()(),values:[]}]}],barSize:4,tempo:120,instrument:"hang",playback:{sequence:null,isPlaying:!1}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SWITCH_NOTE":var t=a.payload;return function(e,a,t){var n=-1,r=e.findIndex(function(e){return-1!==(n=e.beats.findIndex(function(e){return e.beatId===a}))});if(-1!==r&&-1!==n){var l=e.slice()[r].beats.map(function(e,a){return a!==n?e:e.values.find(function(e){return e===t})?Object(N.a)({},e,{values:e.values.filter(function(e){return e!==t})}):Object(N.a)({},e,{values:[].concat(Object(y.a)(e.values),[t])})});return e.map(function(e,a){return a===r?Object(N.a)({},e,{beats:l}):e})}return e}(e,t.beatId,t.noteValue);case"ADD_BAR":return function(e,a){for(var t=[],n=0;n<a;n++)t.push({beatId:I()(),values:[]});var r={barId:I()(),beats:t};return[].concat(Object(y.a)(e),[r])}(e,a.payload);case"REMOVE_BAR":return function(e,a){return e.filter(function(e){return e.barId!==a})}(e,a.payload);case"RESET_TRACK":return k.bars;default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;arguments.length>1&&arguments[1];return e},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_TEMPO":return a.payload;default:return e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hang",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_INSTRUMENT":return a.payload;default:return e}},S=t(3),A=t.n(S),j=new A.a.Sampler({C3:"/sounds-of-mind/samples/tank/C.mp3",D3:"/sounds-of-mind/samples/tank/D.mp3",E3:"/sounds-of-mind/samples/tank/E.mp3",G3:"/sounds-of-mind/samples/tank/G.mp3",A3:"/sounds-of-mind/samples/tank/A.mp3"},{release:1}).toMaster(),P=new A.a.Sampler({C3:"/sounds-of-mind/samples/hang/C.mp3",D3:"/sounds-of-mind/samples/hang/D.mp3",E3:"/sounds-of-mind/samples/hang/E.mp3",G3:"/sounds-of-mind/samples/hang/G.mp3",A3:"/sounds-of-mind/samples/hang/A.mp3"},{release:1}).toMaster(),q=4,_="".concat(q,"n"),R="+0.1",B=function(e){switch(console.log(e),e){case"hang":return P;case"tank":return j;default:return P}};var D=function(e,a,t){return function(e,a,t){var n=B(t),r=e.map(function(e,a){return[a*A.a.Time(_),e]}),l=new A.a.Part(function(e,a){a.length>0&&n.triggerAttack(a,e)},r).start(R);return l.loop=!0,l.loopEnd="".concat(e.length/q,"m"),A.a.Transport.bpm.value=a,A.a.Transport.start(R),l}(e.map(function(e){return e.values}),a,t)},G=function(e){e.stop(),A.a.Transport.stop()},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PLAY_SEQUENCE":var t=a.payload,n=t.notes,r=t.tempo,l=t.instrument;return{sequence:D(n,r,l),isPlaying:!0};case"STOP_SEQUENCE":return G(e.sequence),{sequence:null,isPlaying:!1};default:return e}},H=Object(o.b)({bars:C,barSize:O,tempo:T,instrument:w,playback:M}),U=k,V=Object(o.c)(H,U);c.a.render(r.a.createElement(s.a,{store:V},r.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,2,1]]]);
//# sourceMappingURL=main.3b6153e0.chunk.js.map