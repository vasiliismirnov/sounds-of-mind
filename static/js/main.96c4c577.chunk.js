(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,a,t){e.exports=t(46)},32:function(e,a,t){},34:function(e,a,t){},36:function(e,a,t){},38:function(e,a,t){},40:function(e,a,t){},42:function(e,a,t){},46:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(17),l=t.n(c),u=t(5),o=t(4),i=(t(30),t(32),t(7)),s=t(8),m=t(10),d=t(9),b=t(11);t(34),t(36);t(38);var p=Object(u.b)(function(e){return{bars:e.bars,isPlaying:e.playback.isPlaying}},function(e){return{playSequence:function(a){return e({type:"PLAY_SEQUENCE",payload:a})},stopSequence:function(){return e({type:"STOP_SEQUENCE",payload:a});var a}}})(function(e){var a=e.bars,t=e.isPlaying,n=e.playSequence,c=e.stopSequence;return r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"play-panel-container"},r.a.createElement("div",{className:"card border-info"},r.a.createElement("div",{className:"card-header"},"Playback"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"tool-panel-item"},r.a.createElement("button",{type:"button",className:"btn btn-info",onClick:function(e){var t=a.reduce(function(e,a){return e.concat(a.beats)},[]);n(t)},disabled:t},r.a.createElement("i",{className:"button-icon button-play"})),r.a.createElement("button",{type:"button",className:"btn btn-info",onClick:function(e){c()},disabled:!t},r.a.createElement("i",{className:"button-icon button-stop"}))),r.a.createElement("p",{className:"card-text tempo-panel"},"Tempo: 120 bpm"),r.a.createElement("p",{className:"card-text time-signature-panel"},"Time signature: 4/4")))))}),v=function(e){var a=e.barSize,t=e.bars,n=e.removeBarItem,c=[r.a.createElement("th",{key:"0",rowSpan:"2"})],l=[];t&&(c=c.concat(t.map(function(e,t){return r.a.createElement("th",{key:e.barId,colSpan:a,className:"bar-header-item"},t+1,r.a.createElement("i",{className:"remove-icon",onClick:function(){return a=e.barId,void n(a);var a}}))})),l=t.reduce(function(e,a){return e.concat(a.beats)},[]).map(function(e,a){return r.a.createElement("th",{key:e.beatId,className:"beat-header"},a+1)}));return c.push(r.a.createElement("th",{key:c.length,rowSpan:"2"})),r.a.createElement("thead",null,r.a.createElement("tr",null,c),r.a.createElement("tr",null,l))},f=function(e){var a=e.barSize,t=e.bars,n=e.switchNoteItem,c=e.addBarItem,l=[{value:"A0",title:"A"},{value:"B0",title:"B"},{value:"C1",title:"C"},{value:"D1",title:"D"},{value:"E1",title:"E"},{value:"F1",title:"F"},{value:"G1",title:"G"}],u=t.reduce(function(e,a){return e.concat(a.beats)},[]),o=function(e){return u.map(function(a){var t=a.values.includes(e),c=t?"active-note":"inactive-note";return r.a.createElement("td",{key:a.beatId,onClick:function(){return function(e,a){n(e,a)}(a.beatId,e)},className:c},t&&"\u2022")})},i=l.map(function(e,t){return r.a.createElement("tr",{key:e.value},r.a.createElement("td",null,e.title),o(e.value),0===t&&r.a.createElement("td",{className:"add-bar-item",rowSpan:l.length},r.a.createElement("i",{className:"add-icon",onClick:function(){c(a)}})))});return r.a.createElement("tbody",null,i)};t(40);var E=Object(u.b)(function(e){return{bars:e.bars,barSize:e.barSize}},function(e){return{switchNoteItem:function(a,t){return e(function(e,a){return{type:"SWITCH_NOTE",payload:{beatId:e,noteValue:a}}}(a,t))},addBarItem:function(a){return e(function(e){return{type:"ADD_BAR",payload:e}}(a))},removeBarItem:function(a){return e(function(e){return{type:"REMOVE_BAR",payload:e}}(a))}}})(function(e){var a=e.barSize,t=e.bars,n=e.switchNoteItem,c=e.addBarItem,l=e.removeBarItem;if(t)return r.a.createElement("div",{className:"sequencer-container column"},r.a.createElement("h4",null,"Sequence"),r.a.createElement("table",{className:"sequencer-roll"},r.a.createElement(v,{barSize:a,bars:t,removeBarItem:l}),r.a.createElement(f,{barSize:a,bars:t,switchNoteItem:n,addBarItem:c})))}),h=function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column container"},r.a.createElement("div",{className:"row"},r.a.createElement(p,null)),r.a.createElement("div",{className:"row"},r.a.createElement(E,null))))},I=(t(42),function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(b.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"app-header row"},r.a.createElement("nav",{className:"column"},r.a.createElement("a",{className:"",href:"#"},"Sounds of Mind")))}}]),a}(n.Component)),y=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(b.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"app container"},r.a.createElement(I,null),r.a.createElement(h,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=t(6),S=t(13),w=t(1),O=t.n(w),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SWITCH_NOTE":var t=a.payload;return function(e,a,t){var n=-1,r=e.findIndex(function(e){return-1!==(n=e.beats.findIndex(function(e){return e.beatId===a}))});if(-1!==r&&-1!==n){var c=e.slice()[r].beats.map(function(e,a){return a!==n?e:e.values.find(function(e){return e===t})?Object(S.a)({},e,{values:e.values.filter(function(e){return e!==t})}):Object(S.a)({},e,{values:Object(N.a)(e.values).concat([t])})});return e.map(function(e,a){return a===r?Object(S.a)({},e,{beats:c}):e})}return e}(e,t.beatId,t.noteValue);case"ADD_BAR":return function(e,a){for(var t=[],n=0;n<a;n++)t.push({beatId:O()(),values:[]});var r={barId:O()(),beats:t};return Object(N.a)(e).concat([r])}(e,a.payload);case"REMOVE_BAR":return function(e,a){return e.filter(function(e){return e.barId!==a})}(e,a.payload);default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;arguments.length>1&&arguments[1];return e},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120;arguments.length>1&&arguments[1];return e},j=t(3),B=t.n(j),A=new B.a.Sampler({A0:"/samples/A.mp3",B0:"/samples/B.mp3",C1:"/samples/C.mp3",D1:"/samples/D.mp3",E1:"/samples/E.mp3",F1:"/samples/F.mp3",G1:"/samples/G.mp3"},{release:1}).toMaster();var q=function(e){return function(e){for(var a=[],t=e.map(function(e){return e.length}),n=Math.max.apply(Math,Object(N.a)(t)),r=function(t){var n=e.map(function(e){return e[t]}),r=new B.a.Sequence(function(e,a){A.triggerAttack(a)},n,"4n").start();r.humanize=!0,r.loop=!0,a.push(r)},c=0;c<n;c++)r(c);return B.a.Transport.bpm.value=120,B.a.Transport.start(),B.a.Transport.loop=!1,a}(e.map(function(e){return e.values}))},T=function(e){var a;(a=e)&&a.forEach(function(e){e.stop()}),B.a.Transport.stop()},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PLAY_SEQUENCE":return{sequence:q(a.payload),isPlaying:!0};case"STOP_SEQUENCE":return T(e.sequence),{sequence:null,isPlaying:!1};default:return e}},z=Object(o.b)({bars:g,barSize:C,tempo:k,playback:P}),_={bars:[{barId:O()(),beats:[{beatId:O()(),values:["A0","C1"]},{beatId:O()(),values:["C1","E1"]},{beatId:O()(),values:[]},{beatId:O()(),values:["E1"]}]},{barId:O()(),beats:[{beatId:O()(),values:["A0","C1"]},{beatId:O()(),values:["C1","E1"]},{beatId:O()(),values:[]},{beatId:O()(),values:["E1"]}]},{barId:O()(),beats:[{beatId:O()(),values:["A0","C1"]},{beatId:O()(),values:["C1","E1"]},{beatId:O()(),values:[]},{beatId:O()(),values:["E1"]}]},{barId:O()(),beats:[{beatId:O()(),values:["A0","C1"]},{beatId:O()(),values:["E1"]},{beatId:O()(),values:["F1"]},{beatId:O()(),values:["E1"]}]}],barSize:4,tempo:120,playback:{sequence:null,isPlaying:!1}},D=Object(o.c)(z,_);l.a.render(r.a.createElement(u.a,{store:D},r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.96c4c577.chunk.js.map